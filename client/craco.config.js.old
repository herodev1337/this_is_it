/* craco.config.js */
const path = require(`path`);
const sassResourcesLoader = require("craco-sass-resources-loader");


module.exports = {
  mode: "development",
  style: {
    sass: {
      plugins: [
        require("craco-sass-resources-loader")
      ],
    },
  },
  webpack: {
    alias: {
      '@': path.resolve(__dirname, 'src/'),
      '@Components': path.resolve(__dirname, 'src/components'),
      '@Routes': path.resolve(__dirname, 'src/routes'),
      '@Styles': path.resolve(__dirname, 'src/styles')
    },
    module: {
      rules: [
        {
          test: /\.scss$/,
          use: [
            { loader: 'style-loader' },
            {
              loader: 'css-loader', options: {
                sourceMap: true, modules: true,
                localIdentName: '[local]_[hash:base64:5]'
              }
            },
            {
              loader: 'postcss-loader',
              options: {
                sourceMap: true,
                config: {
                  path: 'postcss.config.js'
                }
              }
            },
            {
              loader: 'sass-loader', options: { sourceMap: true }
            }
          ]
        }
      ]
    },
  },
};